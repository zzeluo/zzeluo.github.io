{"meta":{"title":"择萝","subtitle":"","description":"","author":"择萝","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"linux网络设置","slug":"linux网络设置","date":"2020-06-17T09:18:52.000Z","updated":"2020-06-17T11:16:46.949Z","comments":true,"path":"2020/06/17/linux网络设置/","link":"","permalink":"http://yoursite.com/2020/06/17/linux%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"查看网络设置查看所有活动网络接口信息1# 执行 \"ifconfig\" 命令 查看指定网络接口信息1$ \"ifconfig\" 网络接口名 设置网络接口的 ip地址，子网掩码1# ifconfig 接口名 ip地址 [netwask 子网掩码] 1# ifconfig 网络接口 ip地址[/掩码长度] 激活或者重新激活网卡1# ifconfig 网络接口 up 1# ifconfig 网络接口 down 设置虚拟网络地址1# ifconfig 接口名:序号 IP地址 ip/ethtool查看网络接口的数据链路层，网络层信息和网络接口速率，模式等信息。 1# ip link // 查看网络接口的数据链路层信息 1# ip address //查看网络接口的网络层信息 1# ethtool eth0 //查看指定网络接口的速率，模式等信息 查看路由表条目1# route [-n] 添加到指定网段的路由记录1# route add -net 网络地址 gw IP地址 删除路由表中的默认路由记录1# route del -net 网段地址 删除路由表中的默认网关记录1# route del default gw ip地址 向路由表中添加默认网关记录1# route add default gw ip地址 netstst 命令查看系统的网络连接状态，路由表，接口统计等信息。 常用选项 -a ：显示当前主机中所有活动的网络连接信息。 -n ：以数字的形式显示相关的主机地址，端口等信息。 -r ：显示路由表信息。 -l ：显示处于监听状态的网络连接及端口信息。 -t ：查看TCP协议相关的信息。 -u ：显示UDP协议相关的信息。 -p ：显示与网络连接相关联的进程号，进程名称信息（需要root权限）。 -anpt ：以数字形式显示当前系统中所有的TCP连接信息，同时显示对应的进程信息。 结合命令管道使用“grep” 命令，还可以在结果中过滤出所需要的特定记录。测试网络连接 ———— ping 命令 （ctrl + c 终止测试）测试从当前主机到目的主机之间经过的网络节点 ———— traceroute 命令测试DNS域名解析 ———— nslookup 命令。临时配置使用命令调整网络参数 简单，快速，可直接修改运行中的网络参数 一般只适合在调试网络的过程中使用。 系统重启以后，所做的修改将会失效。固定配置通过配置文件修改网络参数。 修改各项网络参数的配置文件 适合对服务器设置固定参数时使用。 需要重载网络服务或重启以后才会生效。网络接口配置文件：/etc/sysconfig/network-scripts/目录下12345678[root@localhost ~]#vim /etc/sysconfig/network-scripts/ifcfg-ens33 //第1块以太网卡的配置文件TYPE=EthernetBOOTPROTO=staticDEVICE=ens33ONBOOT=yesIPADDR=192.168.4.11NETMASK=255.255.255.0GATEWAY=192.168.4.1 启动，禁用网络接口配置：重启network 网络服务1systemctl restart network 禁用，启动网络接口1ifdown ens33 ifup ens33 主机名称配置文件 ：/etc/sysconfig/network 文件保存全局网络配置，只要包括主机名信息。 域名解析配置文件：/etc/resolv.conf 文件保存本机需要使用的DNS服务器的ip地址 本地主机映射文件： /etc/hosts 文件保存主机名与IP地址的映射记录。 hosts 文件和DNS服务器的比较 默认情况下，系统首先从hosts 文件查找解析记录。 hosts 文件只对当前的主机有效。 hosts 文件可减少DNS查询过程，从而加快访问速度。","categories":[],"tags":[]}],"categories":[],"tags":[]}